
use std::{io, random}
impl<T> T | null {
    inline func map(self, closure) {
        match self {
            null -> self
            T -> closure(self)
        }
    }
}

func main {
    result = example().map { |it| it.name }
    io.println(result)
}
struct A {
    name str
}

func example {
    if random.bool() {
        A("Hello")
    } else {
        null
    }
}